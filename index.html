<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Special Journey ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;500&family=Caveat:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        body {
            font-family: 'Mitr', sans-serif;
            background-color: #fff0f3;
            overflow: hidden;
            touch-action: manipulation;
        }
        .handwriting { font-family: 'Caveat', cursive; }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid #ffb6c1;
            box-shadow: 0 10px 40px rgba(255, 182, 193, 0.4);
        }
        .heart-particle {
            position: fixed;
            top: -10%;
            user-select: none;
            pointer-events: none;
            z-index: 50;
            animation: fall linear forwards;
        }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        
        .slide-enter {
            animation: slideInRight 0.5s ease-out forwards;
        }
        @keyframes slideInRight {
            from { transform: translateX(50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        } 

        #surprise-section { display: none; }
        
        .click-zone {
            position: absolute;
            inset: 0;
            z-index: 5;
        }
        
        .secret-trigger {
            position: fixed;
            width: 80px;
            height: 80px;
            z-index: 1000;
        }
        #trigger-tl { top: 0; left: 0; }
        #trigger-tr { top: 0; right: 0; } 

        .floating-score {
            position: absolute;
            pointer-events: none;
            color: #ec4899;
            font-weight: bold;
            z-index: 100;
            animation: floatUp 1s ease-out forwards;
        }
        @keyframes floatUp {
            from { transform: translateY(0) scale(1); opacity: 1; }
            to { transform: translateY(-120px) scale(1.5); opacity: 0; }
        } 

        .milestone-unlocked {
            animation: pulse-gold 2s infinite;
            border: 3px solid #ffd700 !important;
        }
        @keyframes pulse-gold {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 20px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        } 

        .quiz-option {
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }
        .quiz-option:active { transform: scale(0.95); }
        
        #final-choice-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            min-height: 300px;
        } 

        .timer-bar-container {
            width: 100%;
            height: 6px;
            background: #ffe4e6;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        #timer-bar {
            height: 100%;
            background: linear-gradient(to right, #fb7185, #ec4899);
            width: 100%;
            transition: width 1s linear;
        }
        #noBtn {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 overflow-hidden"> 

    <div id="trigger-tl" class="secret-trigger" onclick="handleSecret('L')"></div>
    <div id="trigger-tr" class="secret-trigger" onclick="handleSecret('R')"></div> 

    <div id="game-zone" class="click-zone" onclick="handleGameClick(event)"></div> 

    <div id="countdown-section" class="w-full max-w-md text-center animate__animated animate__fadeIn relative z-10">
        <div id="countdown-card" class="glass-card p-8 rounded-[2.5rem] relative overflow-hidden transition-all duration-500">
            <h1 id="main-title" class="text-2xl mb-6 text-pink-600 font-medium">‡∏£‡∏≠‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢ c:</h1>
            <div class="grid grid-cols-4 gap-2 mb-8">
                <div class="bg-white p-3 rounded-2xl border border-pink-100 shadow-sm">
                    <span id="days" class="text-2xl font-bold text-pink-600">00</span>
                    <div class="text-[10px] uppercase text-pink-400">‡∏ß‡∏±‡∏ô</div>
                </div>
                <div class="bg-white p-3 rounded-2xl border border-pink-100 shadow-sm">
                    <span id="hours" class="text-2xl font-bold text-pink-600">00</span>
                    <div class="text-[10px] uppercase text-pink-400">‡∏ä‡∏°.</div>
                </div>
                <div class="bg-white p-3 rounded-2xl border border-pink-100 shadow-sm">
                    <span id="minutes" class="text-2xl font-bold text-pink-600">00</span>
                    <div class="text-[10px] uppercase text-pink-400">‡∏ô‡∏≤‡∏ó‡∏µ</div>
                </div>
                <div class="bg-white p-3 rounded-2xl border border-pink-100 shadow-sm">
                    <span id="seconds" class="text-2xl font-bold text-pink-600">00</span>
                    <div class="text-[10px] uppercase text-pink-400">‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
                </div>
            </div>
            <div class="bg-pink-50 rounded-xl p-4 mb-6 min-h-[100px] flex flex-col items-center justify-center border border-pink-100 transition-all duration-500">
                <p id="daily-quote" class="text-pink-500 text-lg handwriting italic">"‡∏à‡∏¥‡πâ‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏û‡∏µ‡πà‡∏à‡∏¥ ‚ù§Ô∏è"</p>
                <p id="unlocked-msg" class="text-pink-600 font-bold mt-2 hidden animate__animated animate__bounceIn">‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏±‡πâ‡∏Å‡∏Å! ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏´‡∏ô‡∏°‡πÜ‡∏à‡∏≤‡∏Å‡∏û‡∏µ‡πà‡πÑ‡∏õ‡πÄ‡∏¢‡∏¢ ‚ú®</p>
            </div>
            <div class="w-full bg-pink-100 h-3 rounded-full mb-2 overflow-hidden border border-pink-200">
                <div id="love-progress" class="bg-gradient-to-r from-pink-400 to-pink-600 h-full transition-all duration-300" style="width: 0%"></div>
            </div>
            <div class="flex justify-between text-[10px] text-pink-400 font-bold mb-4">
                <span>LOVE METER</span>
                <span id="score-display">0 / 200</span>
            </div>
            <p class="text-pink-300 italic text-xs font-light">See you on 14 Feb, 05:50 AM na ‚ù§Ô∏è</p>
        </div>
    </div> 

    <div id="surprise-section" class="w-full max-w-lg text-center relative z-20">
        <div class="glass-card p-8 md:p-12 rounded-[3rem] min-h-[550px] flex flex-col justify-between items-center relative overflow-hidden">
            <div id="slide-content" class="w-full h-full flex items-center justify-center"></div>
            <div id="controls" class="w-full mt-8">
                <div class="flex justify-between items-center w-full">
                    <button id="prevBtn" onclick="prevSlide()" class="text-pink-400 font-medium disabled:opacity-0">‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
                    <div id="page-indicator" class="px-3 py-1 bg-pink-100 text-pink-500 rounded-full text-xs font-bold"></div>
                    <button id="nextBtn" onclick="nextSlide()" class="bg-pink-500 text-white px-8 py-3 rounded-full shadow-lg font-medium">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí</button>
                </div>
            </div>
        </div>
    </div> 

    <script>
        const targetDate = new Date("Feb 14, 2026 05:50:00").getTime();
        
        const quizzes = [
            { question: "‡πÄ‡∏£‡∏≤‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏¢‡∏¢", options: ["‡∏™‡∏¢‡∏≤‡∏°", "‡∏Ñ‡πà‡∏≤‡∏¢", "‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü"], answer: 2 },
            { question: "‡πÄ‡∏°‡∏ô‡∏π‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏û‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠?", options: ["‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß", "‡∏Å‡∏∏‡πâ‡∏á‡∏ä‡∏∏‡∏ö‡πÅ‡∏õ‡πâ‡∏á‡∏ó‡∏≠‡∏î", "‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤", "‡∏ñ‡∏π‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠"], answer: 3 },
            { question: "‡∏°‡∏∏‡πâ‡∏≠‡∏∏‡πâ‡∏î‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà", options: ["21 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå", "3 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "22 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå", "21 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°"], answer: 2 },
            { question: "‡∏°‡∏∏‡πâ‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà", options: ["2 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "3 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "22 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°"], answer: 1 },
            { question: "‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà", options: ["14 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2552", "14 ‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2553", "14 ‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2552", "14 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2553"], answer: 2 },
            { question: "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≠‡∏ö‡∏™‡∏µ‡∏≠‡∏≤‡∏£‡∏±‡∏¢", options: ["‡∏™‡πâ‡∏°, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏ß", "‡∏ü‡πâ‡∏≤, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß", "‡πÅ‡∏î‡∏á, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß", "‡∏Ç‡∏≤‡∏ß, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"], answer: 3 },
            { question: "‡∏´‡∏ô‡∏π‡∏£‡∏±‡∏Å‡∏û‡∏µ‡πà‡∏°‡∏±‡πâ‡∏¢‡∏¢?", type: "final_choice" }
        ]; 

        const story = [
            { emoji: "üíñ", title: "Happy Anniversary!", text: "‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå‡∏ô‡πâ‡∏≤‡∏≤‡∏≤^^", img: "love1.jpg" },
            { emoji: "üì∏", title: "‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥", text: "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ‡πÜ ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏ô‡∏∞", img: "love2.gif" },
            { emoji: "üè†", title: "‡πÄ‡∏ã‡∏ü‡πÇ‡∏ã‡∏ô‡∏Ç‡∏≠‡∏á‡∏û‡∏µ‡πà", text: "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ã‡∏ü‡πÇ‡∏ã‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠‡∏°‡∏≤ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏à‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤‡∏Å‡πá‡∏ï‡∏≤‡∏°", img: "love3.jpg" },
            { emoji: "üê∂", title: "‡∏´‡∏°‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏ß", text: "‡∏¢‡∏π‡∏Å‡∏´‡∏°‡∏≤‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Å‡πâ‡∏≠‡∏•‡πÜ‡πÅ‡∏°‡∏ß‡πÜ‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ‡πÄ‡∏¢‡∏¢! ‡∏à‡∏∞‡∏°‡∏¥‡∏¢‡∏≠‡∏°‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏õ‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î!", img: "love4.jpg" },
            { emoji: "üò∫", title: "‡πÅ‡∏°‡∏ß‡∏ô‡πâ‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏´‡∏°‡∏≤!", text: "‡∏¢‡∏π‡∏Å‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏´‡∏°‡∏≤‡πÜ‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ‡πÄ‡∏¢‡∏¢‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢‡∏¢‡πà‡∏≤‡∏≤! ‡∏°‡∏¥‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡πÅ‡∏ï‡∏∞‡∏ï‡πâ‡∏≠‡∏á", img: "love5.jpg" },
            { emoji: "‚ôæÔ∏è", title: "‡∏£‡∏±‡∏Å‡∏´‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢", text: "‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏∏‡∏Å‡πÜ‡∏õ‡∏µ‡πÄ‡∏¢‡∏¢ ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏ô‡πâ‡∏≤‡∏≤‡∏≤", img: "loved.jpeg" },
            { type: "quiz_start", emoji: "üßê", title: "Test Time!", text: "‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏°‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏Å‡∏±‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏™‡∏¥‡πä!" }
        ]; 

        const normalQuotes = [
            "‡∏à‡∏¥‡πâ‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏û‡∏µ‡πà‡∏à‡∏¥ ‚ù§Ô∏è", "‡∏°‡∏≤‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ó‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏Å‡∏≤‡∏ô‡∏ô‡∏ô", "Ploy & Music", "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡∏π‡∏à‡∏±‡∏á‡πÄ‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢",
            "‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏∞‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞", "‡∏£‡∏±‡∏Å‡∏´‡∏ô‡∏π‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏£‡∏π‡πâ‡∏°‡∏±‡πâ‡∏¢", "‡∏à‡∏¥‡πâ‡∏°‡∏£‡∏±‡∏ß‡πÜ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 200 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏¥ ‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏∞", "‡πÄ‡∏à‡πâ‡∏≤‡πÅ‡∏°‡∏ß‡∏ô‡πà‡∏≤‡∏¢‡∏±‡πâ‡∏Å‡∏Ç‡∏≠‡∏á‡∏û‡∏µ‡πà~~"
        ]; 

        const rewards = [
            "‡∏ó‡∏≥‡πÑ‡∏°‡πÅ‡∏ü‡∏ô‡∏û‡∏µ‡πà‡∏ñ‡∏∂‡∏á‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ‡∏á‡πâ‡∏∞‡∏∞ ü•∫", "‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏â‡∏∏‡∏î‡πÄ‡∏•‡∏¢‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á ‚ú®", "‡∏Ñ‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ ‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏≠‡∏á‡∏¢‡∏¥‡πà‡∏á‡∏ï‡∏Å‡∏´‡∏•‡∏∏‡∏°‡∏¢‡∏±‡πâ‡∏Å üíñ",
            "‡∏´‡∏ô‡∏π‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏û‡∏µ‡πà‡πÄ‡∏¢‡∏¢‡∏ô‡∏∞ üéÅ", "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏û‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏Å‡∏ô‡∏∞‡∏Å‡∏±‡πâ‡∏ö üòò"
        ]; 

        let currentSlide = 0;
        let isSurpriseActive = false;
        let score = 0;
        let isMilestoneReached = false;
        let secretSequence = "";
        const correctPattern = "LRLR";
        
        let currentQuizIndex = 0;
        let inQuizMode = false;
        let loveBtnScale = 1; 

        let quizTimer = null;
        let timeLeft = 15;
        let isChallengeMode = false; 

        function handleSecret(dir) {
            secretSequence += dir;
            if (secretSequence.includes(correctPattern)) {
                activateSurprise();
                secretSequence = "";
            }
            if (secretSequence.length > 4) secretSequence = dir;
        } 

        function updateCountdown() {
            if (isSurpriseActive) return;
            const now = new Date().getTime();
            const diff = targetDate - now;
            if (diff <= 0) { activateSurprise(); return; } 

            document.getElementById('days').innerText = Math.floor(diff / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
            document.getElementById('hours').innerText = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
            document.getElementById('minutes').innerText = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
            document.getElementById('seconds').innerText = Math.floor((diff % (1000 * 60)) / 1000).toString().padStart(2, '0'); 

            if (!isMilestoneReached && Math.floor(diff / 1000) % 8 === 0) {
                updateQuote(normalQuotes[Math.floor(Math.random() * normalQuotes.length)]);
            }
        } 

        function handleGameClick(e) {
            if (isSurpriseActive || e.clientY < 80) return;
            score++;
            const progress = Math.min((score / 200) * 100, 100);
            document.getElementById('love-progress').style.width = progress + '%';
            document.getElementById('score-display').innerText = `${score} / 200`;
            const floating = document.createElement('div');
            floating.className = 'floating-score';
            floating.innerText = isMilestoneReached ? '‚ú®' : '‚ù§Ô∏è';
            floating.style.left = e.clientX + 'px';
            floating.style.top = e.clientY + 'px';
            document.body.appendChild(floating);
            setTimeout(() => floating.remove(), 1000);
            createHearts(1, e.clientX);
            if (score === 200 && !isMilestoneReached) reachMilestone();
            else if (isMilestoneReached && score % 20 === 0) {
                updateQuote(rewards[Math.floor(Math.random() * rewards.length)]);
                celebrateMilestone(10);
            }
        } 

        function reachMilestone() {
            isMilestoneReached = true;
            document.getElementById('countdown-card').classList.add('milestone-unlocked');
            document.getElementById('unlocked-msg').classList.remove('hidden');
            document.getElementById('main-title').innerText = "‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πâ‡∏Å!! üîì";
            updateQuote(rewards[Math.floor(Math.random() * rewards.length)]);
            celebrateMilestone(50);
        } 

        function updateQuote(text) {
            const quoteElem = document.getElementById('daily-quote');
            if(!quoteElem) return;
            quoteElem.classList.add('animate__animated', 'animate__fadeOutDown');
            setTimeout(() => {
                quoteElem.innerText = `"${text}"`;
                quoteElem.classList.remove('animate__fadeOutDown');
                quoteElem.classList.add('animate__fadeInUp');
            }, 500);
        } 

        function celebrateMilestone(count) {
            for(let i=0; i<count; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    createHearts(1, x);
                }, i * 100);
            }
        } 

        function activateSurprise() {
            if (isSurpriseActive) return;
            isSurpriseActive = true;
            document.getElementById('game-zone').style.display = 'none';
            document.getElementById('trigger-tl').style.display = 'none';
            document.getElementById('trigger-tr').style.display = 'none';
            const countdown = document.getElementById('countdown-section');
            countdown.classList.add('animate__animated', 'animate__zoomOut');
            setTimeout(() => {
                countdown.style.display = 'none';
                const surprise = document.getElementById('surprise-section');
                surprise.style.display = 'block';
                surprise.classList.add('animate__animated', 'animate__backInUp');
                renderSlide();
                setInterval(() => createHearts(1), 1200);
            }, 600);
        } 

        function renderSlide() {
            const content = document.getElementById('slide-content');
            const controls = document.getElementById('controls');
            
            if (currentSlide < story.length) {
                const data = story[currentSlide];
                inQuizMode = false;
                controls.style.display = 'flex';
                
                content.innerHTML = `
                    <div class="slide-enter w-full">
                        <div class="text-6xl mb-4 animate__animated animate__heartBeat animate__infinite animate__slow text-center">${data.emoji}</div>
                        <h2 class="text-4xl text-pink-600 handwriting mb-4 text-center">${data.title}</h2>
                        ${data.img ? `
                        <div class="rounded-[2rem] overflow-hidden shadow-lg mb-6 bg-pink-50 border-4 border-white aspect-[4/3] mx-auto max-w-sm">
                            <img src="${data.img}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/600x450?text=Wait+for+Feb+14!+‚ù§Ô∏è'">
                        </div>` : ''}
                        <p class="text-gray-600 leading-relaxed text-lg italic font-light text-center">"${data.text}"</p>
                    </div>
                `;
                document.getElementById('prevBtn').disabled = currentSlide === 0;
                document.getElementById('page-indicator').innerText = `${currentSlide + 1} / ${story.length}`;
                document.getElementById('nextBtn').innerText = currentSlide === story.length - 1 ? '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏¥‡∏ã‡∏Å‡∏±‡∏ô! üìù' : '‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí';
            } else {
                showQuizConfirmation();
            }
        } 

        function showQuizConfirmation() {
            const content = document.getElementById('slide-content');
            document.getElementById('controls').style.display = 'none';
            
            content.innerHTML = `
                <div class="animate__animated animate__fadeIn w-full text-center">
                    <div class="text-6xl mb-6">ü§î</div>
                    <h3 class="text-2xl text-pink-700 font-bold mb-4">‡∏à‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞?</h3>
                    <p class="text-gray-500 mb-10">‡∏ñ‡πâ‡∏≤‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÇ‡∏´‡∏°‡∏î‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ ‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Ñ‡πà 15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏ô‡∏∞!<br><span class="text-xs text-pink-400 font-bold">(‡∏ñ‡πâ‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏î‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏¢‡∏ô‡∏∞!)</span></p>
                    <div class="flex flex-col gap-4 max-w-xs mx-auto">
                        <button onclick="prepareQuiz(true)" class="bg-pink-500 text-white py-4 rounded-2xl shadow-lg font-bold hover:scale-105 transition-transform">
                            ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏°‡∏≤‡∏Å! (15 ‡∏ß‡∏¥) ‚ö°
                        </button>
                        <button onclick="prepareQuiz(false)" class="bg-gray-100 text-gray-500 py-4 rounded-2xl font-medium hover:bg-gray-200">
                            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡πÅ‡∏ô‡πà‡πÉ‡∏à (‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤)
                        </button>
                    </div>
                </div>
            `;
        } 

        function prepareQuiz(isTimed) {
            isChallengeMode = isTimed;
            startQuiz();
        } 

        function nextSlide() {
            currentSlide++;
            renderSlide();
            burstHearts();
        } 

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                renderSlide();
            }
        } 

        function startQuiz() {
            inQuizMode = true;
            currentQuizIndex = 0;
            showQuizQuestion();
        } 

        function startTimer() {
            clearInterval(quizTimer);
            if (!isChallengeMode) return;
            
            timeLeft = 15;
            const bar = document.getElementById('timer-bar');
            bar.style.width = '100%';
            
            quizTimer = setInterval(() => {
                timeLeft--;
                const percentage = (timeLeft / 15) * 100;
                bar.style.width = percentage + '%';
                
                if (timeLeft <= 0) {
                    clearInterval(quizTimer);
                    handleTimeOut();
                }
            }, 1000);
        } 

        function handleTimeOut() {
            const content = document.getElementById('slide-content');
            content.innerHTML = `
                <div class="animate__animated animate__shakeX text-center">
                    <div class="text-7xl mb-6">‚è∞</div>
                    <h3 class="text-2xl text-red-500 font-bold mb-4">‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏î‡πÅ‡∏¢‡πâ‡∏ß‡∏ß!</h3>
                    <p class="text-gray-500 mb-8">‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡πÅ‡∏£‡∏Å‡∏Å‡∏±‡∏ô!</p>
                </div>
            `;
            setTimeout(startQuiz, 2000);
        } 

        function showQuizQuestion() {
            const content = document.getElementById('slide-content');
            const q = quizzes[currentQuizIndex];
            
            if (q.type === "final_choice") {
                clearInterval(quizTimer);
                loveBtnScale = 1;
                content.innerHTML = `
                    <div class="animate__animated animate__fadeInRight w-full flex flex-col items-center">
                        <h3 class="text-3xl text-pink-700 font-bold mb-12 handwriting text-center">${q.question}</h3>
                        <div id="final-choice-container">
                            <button id="loveBtn" onclick="finalAnswer('‡∏£‡∏±‡∏Å')" 
                                    class="quiz-option bg-pink-500 text-white px-12 py-4 rounded-full shadow-xl font-bold text-xl z-20 mb-4 whitespace-nowrap">
                                ‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏î ‚ù§Ô∏è
                            </button>
                            <button id="noBtn" onclick="moveAndGrow()" 
                                    class="quiz-option bg-gray-200 text-gray-500 px-8 py-2 rounded-full font-medium text-sm z-10">
                                ‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å...
                            </button>
                        </div>
                    </div>
                `;
                return;
            } 

            content.innerHTML = `
                <div class="animate__animated animate__fadeInRight w-full">
                    ${isChallengeMode ? `
                    <div class="timer-bar-container">
                        <div id="timer-bar"></div>
                    </div>
                    ` : ''}
                    <div class="bg-pink-100 text-pink-500 w-12 h-12 rounded-full flex items-center justify-center font-bold mx-auto mb-4">
                        ${currentQuizIndex + 1}
                    </div>
                    <h3 class="text-xl text-pink-700 font-medium mb-8 text-center">${q.question}</h3>
                    <div class="space-y-3 w-full max-w-xs mx-auto">
                        ${q.options.map((opt, i) => `
                            <button onclick="checkAnswer(${i})" class="quiz-option w-full py-4 px-6 bg-white border-2 border-pink-200 rounded-2xl text-pink-600 hover:bg-pink-50 hover:border-pink-400 font-medium">
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
            if (isChallengeMode) startTimer();
        } 

        function checkAnswer(idx) {
            const q = quizzes[currentQuizIndex];
            const content = document.getElementById('slide-content');
            
            if (idx === q.answer) {
                clearInterval(quizTimer);
                burstHearts();
                currentQuizIndex++;
                content.innerHTML = `<div class="text-6xl animate__animated animate__bounceIn">‚úÖ</div>`;
                setTimeout(showQuizQuestion, 800);
            } else {
                // ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏Ñ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏ú‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏±‡∏ö‡∏ï‡πà‡∏≠)
                const options = document.querySelectorAll('.quiz-option');
                options[idx].classList.add('bg-red-50', 'border-red-300', 'text-red-400', 'animate__animated', 'animate__shakeX');
                const originalText = q.options[idx];
                options[idx].innerText = "‡∏ú‡∏¥‡∏î‡πÄ‡∏¢‡∏¢! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞ ü•∫";
                setTimeout(() => {
                    options[idx].classList.remove('bg-red-50', 'border-red-300', 'text-red-400', 'animate__shakeX');
                    options[idx].innerText = originalText;
                }, 1000);
            }
        } 

        function moveAndGrow() {
            const noBtn = document.getElementById('noBtn');
            const loveBtn = document.getElementById('loveBtn');
            const container = document.getElementById('final-choice-container');
            
            loveBtnScale += 0.8;
            loveBtn.style.transform = `scale(${loveBtnScale})`;
            
            // ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° "‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å"
            const maxX = container.clientWidth - noBtn.clientWidth;
            const maxY = container.clientHeight - noBtn.clientHeight;
            
            const randomX = Math.random() * maxX - (maxX/2);
            const randomY = Math.random() * maxY - (maxY/2);
            
            noBtn.style.position = 'absolute';
            noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
            
            const funnyTexts = ["‡∏´‡∏∑‡∏≠‡∏≠?", "‡∏Å‡∏î‡∏ú‡∏¥‡∏î‡∏õ‡πà‡∏≤‡∏ß‡∏ß", "‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ô‡∏∞‡∏∞", "‡∏û‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏ô‡∏∞!", "‡∏£‡∏±‡∏Å‡∏û‡∏µ‡πà‡πÄ‡∏ñ‡∏≠‡∏∞‡∏∞", "‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏î", "‡∏á‡∏∑‡πâ‡∏≠‡∏≠‡∏≠‡∏≠"];
            noBtn.innerText = funnyTexts[Math.floor(Math.random() * funnyTexts.length)]; 

            // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏±‡∏Å‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å‡∏à‡∏ô‡∏ö‡∏±‡∏á‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
            if(loveBtnScale > 8) {
                noBtn.style.display = "none";
                loveBtn.style.position = "fixed";
                loveBtn.style.inset = "0";
                loveBtn.style.width = "100vw";
                loveBtn.style.height = "100vh";
                loveBtn.style.zIndex = "100";
                loveBtn.style.borderRadius = "0";
                loveBtn.style.transform = "none";
                loveBtn.innerText = "‡∏´‡∏ô‡∏π‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏Å‡∏û‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß! ‚ù§Ô∏è (‡∏à‡∏¥‡πâ‡∏°‡πÄ‡∏•‡πâ‡∏¢‡∏¢)";
            }
            
            burstHearts();
        } 

        function finalAnswer(choice) {
            showFinalMessage();
        } 

        function showFinalMessage() {
            const content = document.getElementById('slide-content');
            content.innerHTML = `
                <div class="animate__animated animate__heartBeat flex flex-col items-center">
                    <div class="text-7xl mb-6">üèÜ</div>
                    <h2 class="text-3xl text-pink-600 handwriting mb-4 text-center">‡πÄ‡∏¢‡πà! ‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏∞</h2>
                    <p class="text-gray-600 italic text-center px-4">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡∏™‡∏ô‡∏∏‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á ‡∏û‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏´‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢‡∏¢‡∏¢</p>
                    <div class="mt-8 space-y-4">
                        <button onclick="currentSlide=0; renderSlide();" class="bg-pink-500 text-white px-8 py-3 rounded-full shadow-lg font-medium block w-full">
                            ‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö ‚ù§Ô∏è
                        </button>
                    </div>
                </div>
            `;
            celebrateMilestone(40);
        } 

        function createHearts(count, xPos = null) {
            for(let i=0; i<count; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.innerHTML = isMilestoneReached ? ['‚ú®', 'üíñ', '‚≠ê', 'üåà', 'üç≠'][Math.floor(Math.random() * 5)] : '‚ù§Ô∏è';
                heart.style.left = (xPos !== null ? xPos : Math.random() * 100) + (xPos !== null ? 'px' : 'vw');
                heart.style.animationDuration = (Math.random() * 2 + 2) + 's';
                heart.style.fontSize = (Math.random() * 25 + 15) + 'px';
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 4000);
            }
        } 

        function burstHearts() {
            for(let i=0; i<12; i++) {
                const h = document.createElement('div');
                h.innerHTML = 'üíñ';
                h.className = 'fixed pointer-events-none z-[60] animate__animated animate__fadeOutUp';
                h.style.left = (window.innerWidth / 2 + (Math.random() * 300 - 150)) + 'px';
                h.style.top = (window.innerHeight / 2) + 'px';
                h.style.fontSize = '24px';
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 1000);
            }
        } 

        setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>
</body>
</html>

